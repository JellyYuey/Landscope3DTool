{"ast":null,"code":"import { Quaternion } from '../math/Quaternion.js';\nimport { Vector3 } from '../math/Vector3.js';\nimport { Matrix4 } from '../math/Matrix4.js';\nimport { EventDispatcher } from './EventDispatcher.js';\nimport { Euler } from '../math/Euler.js';\nimport { Layers } from './Layers.js';\nimport { Matrix3 } from '../math/Matrix3.js';\nimport * as MathUtils from '../math/MathUtils.js';\nlet _object3DId = 0;\nconst _v1 = /*@__PURE__*/new Vector3();\nconst _q1 = /*@__PURE__*/new Quaternion();\nconst _m1 = /*@__PURE__*/new Matrix4();\nconst _target = /*@__PURE__*/new Vector3();\nconst _position = /*@__PURE__*/new Vector3();\nconst _scale = /*@__PURE__*/new Vector3();\nconst _quaternion = /*@__PURE__*/new Quaternion();\nconst _xAxis = /*@__PURE__*/new Vector3(1, 0, 0);\nconst _yAxis = /*@__PURE__*/new Vector3(0, 1, 0);\nconst _zAxis = /*@__PURE__*/new Vector3(0, 0, 1);\nconst _addedEvent = {\n  type: 'added'\n};\nconst _removedEvent = {\n  type: 'removed'\n};\nconst _childaddedEvent = {\n  type: 'childadded',\n  child: null\n};\nconst _childremovedEvent = {\n  type: 'childremoved',\n  child: null\n};\nclass Object3D extends EventDispatcher {\n  constructor() {\n    super();\n    this.isObject3D = true;\n    Object.defineProperty(this, 'id', {\n      value: _object3DId++\n    });\n    this.uuid = MathUtils.generateUUID();\n    this.name = '';\n    this.type = 'Object3D';\n    this.parent = null;\n    this.children = [];\n    this.up = Object3D.DEFAULT_UP.clone();\n    const position = new Vector3();\n    const rotation = new Euler();\n    const quaternion = new Quaternion();\n    const scale = new Vector3(1, 1, 1);\n    function onRotationChange() {\n      quaternion.setFromEuler(rotation, false);\n    }\n    function onQuaternionChange() {\n      rotation.setFromQuaternion(quaternion, undefined, false);\n    }\n    rotation._onChange(onRotationChange);\n    quaternion._onChange(onQuaternionChange);\n    Object.defineProperties(this, {\n      position: {\n        configurable: true,\n        enumerable: true,\n        value: position\n      },\n      rotation: {\n        configurable: true,\n        enumerable: true,\n        value: rotation\n      },\n      quaternion: {\n        configurable: true,\n        enumerable: true,\n        value: quaternion\n      },\n      scale: {\n        configurable: true,\n        enumerable: true,\n        value: scale\n      },\n      modelViewMatrix: {\n        value: new Matrix4()\n      },\n      normalMatrix: {\n        value: new Matrix3()\n      }\n    });\n    this.matrix = new Matrix4();\n    this.matrixWorld = new Matrix4();\n    this.matrixAutoUpdate = Object3D.DEFAULT_MATRIX_AUTO_UPDATE;\n    this.matrixWorldAutoUpdate = Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE; // checked by the renderer\n    this.matrixWorldNeedsUpdate = false;\n    this.layers = new Layers();\n    this.visible = true;\n    this.castShadow = false;\n    this.receiveShadow = false;\n    this.frustumCulled = true;\n    this.renderOrder = 0;\n    this.animations = [];\n    this.userData = {};\n  }\n  onBeforeShadow(/* renderer, object, camera, shadowCamera, geometry, depthMaterial, group */) {}\n  onAfterShadow(/* renderer, object, camera, shadowCamera, geometry, depthMaterial, group */) {}\n  onBeforeRender(/* renderer, scene, camera, geometry, material, group */) {}\n  onAfterRender(/* renderer, scene, camera, geometry, material, group */) {}\n  applyMatrix4(matrix) {\n    if (this.matrixAutoUpdate) this.updateMatrix();\n    this.matrix.premultiply(matrix);\n    this.matrix.decompose(this.position, this.quaternion, this.scale);\n  }\n  applyQuaternion(q) {\n    this.quaternion.premultiply(q);\n    return this;\n  }\n  setRotationFromAxisAngle(axis, angle) {\n    // assumes axis is normalized\n\n    this.quaternion.setFromAxisAngle(axis, angle);\n  }\n  setRotationFromEuler(euler) {\n    this.quaternion.setFromEuler(euler, true);\n  }\n  setRotationFromMatrix(m) {\n    // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n    this.quaternion.setFromRotationMatrix(m);\n  }\n  setRotationFromQuaternion(q) {\n    // assumes q is normalized\n\n    this.quaternion.copy(q);\n  }\n  rotateOnAxis(axis, angle) {\n    // rotate object on axis in object space\n    // axis is assumed to be normalized\n\n    _q1.setFromAxisAngle(axis, angle);\n    this.quaternion.multiply(_q1);\n    return this;\n  }\n  rotateOnWorldAxis(axis, angle) {\n    // rotate object on axis in world space\n    // axis is assumed to be normalized\n    // method assumes no rotated parent\n\n    _q1.setFromAxisAngle(axis, angle);\n    this.quaternion.premultiply(_q1);\n    return this;\n  }\n  rotateX(angle) {\n    return this.rotateOnAxis(_xAxis, angle);\n  }\n  rotateY(angle) {\n    return this.rotateOnAxis(_yAxis, angle);\n  }\n  rotateZ(angle) {\n    return this.rotateOnAxis(_zAxis, angle);\n  }\n  translateOnAxis(axis, distance) {\n    // translate object by distance along axis in object space\n    // axis is assumed to be normalized\n\n    _v1.copy(axis).applyQuaternion(this.quaternion);\n    this.position.add(_v1.multiplyScalar(distance));\n    return this;\n  }\n  translateX(distance) {\n    return this.translateOnAxis(_xAxis, distance);\n  }\n  translateY(distance) {\n    return this.translateOnAxis(_yAxis, distance);\n  }\n  translateZ(distance) {\n    return this.translateOnAxis(_zAxis, distance);\n  }\n  localToWorld(vector) {\n    this.updateWorldMatrix(true, false);\n    return vector.applyMatrix4(this.matrixWorld);\n  }\n  worldToLocal(vector) {\n    this.updateWorldMatrix(true, false);\n    return vector.applyMatrix4(_m1.copy(this.matrixWorld).invert());\n  }\n  lookAt(x, y, z) {\n    // This method does not support objects having non-uniformly-scaled parent(s)\n\n    if (x.isVector3) {\n      _target.copy(x);\n    } else {\n      _target.set(x, y, z);\n    }\n    const parent = this.parent;\n    this.updateWorldMatrix(true, false);\n    _position.setFromMatrixPosition(this.matrixWorld);\n    if (this.isCamera || this.isLight) {\n      _m1.lookAt(_position, _target, this.up);\n    } else {\n      _m1.lookAt(_target, _position, this.up);\n    }\n    this.quaternion.setFromRotationMatrix(_m1);\n    if (parent) {\n      _m1.extractRotation(parent.matrixWorld);\n      _q1.setFromRotationMatrix(_m1);\n      this.quaternion.premultiply(_q1.invert());\n    }\n  }\n  add(object) {\n    if (arguments.length > 1) {\n      for (let i = 0; i < arguments.length; i++) {\n        this.add(arguments[i]);\n      }\n      return this;\n    }\n    if (object === this) {\n      console.error('THREE.Object3D.add: object can\\'t be added as a child of itself.', object);\n      return this;\n    }\n    if (object && object.isObject3D) {\n      object.removeFromParent();\n      object.parent = this;\n      this.children.push(object);\n      object.dispatchEvent(_addedEvent);\n      _childaddedEvent.child = object;\n      this.dispatchEvent(_childaddedEvent);\n      _childaddedEvent.child = null;\n    } else {\n      console.error('THREE.Object3D.add: object not an instance of THREE.Object3D.', object);\n    }\n    return this;\n  }\n  remove(object) {\n    if (arguments.length > 1) {\n      for (let i = 0; i < arguments.length; i++) {\n        this.remove(arguments[i]);\n      }\n      return this;\n    }\n    const index = this.children.indexOf(object);\n    if (index !== -1) {\n      object.parent = null;\n      this.children.splice(index, 1);\n      object.dispatchEvent(_removedEvent);\n      _childremovedEvent.child = object;\n      this.dispatchEvent(_childremovedEvent);\n      _childremovedEvent.child = null;\n    }\n    return this;\n  }\n  removeFromParent() {\n    const parent = this.parent;\n    if (parent !== null) {\n      parent.remove(this);\n    }\n    return this;\n  }\n  clear() {\n    return this.remove(...this.children);\n  }\n  attach(object) {\n    // adds object as a child of this, while maintaining the object's world transform\n\n    // Note: This method does not support scene graphs having non-uniformly-scaled nodes(s)\n\n    this.updateWorldMatrix(true, false);\n    _m1.copy(this.matrixWorld).invert();\n    if (object.parent !== null) {\n      object.parent.updateWorldMatrix(true, false);\n      _m1.multiply(object.parent.matrixWorld);\n    }\n    object.applyMatrix4(_m1);\n    object.removeFromParent();\n    object.parent = this;\n    this.children.push(object);\n    object.updateWorldMatrix(false, true);\n    object.dispatchEvent(_addedEvent);\n    _childaddedEvent.child = object;\n    this.dispatchEvent(_childaddedEvent);\n    _childaddedEvent.child = null;\n    return this;\n  }\n  getObjectById(id) {\n    return this.getObjectByProperty('id', id);\n  }\n  getObjectByName(name) {\n    return this.getObjectByProperty('name', name);\n  }\n  getObjectByProperty(name, value) {\n    if (this[name] === value) return this;\n    for (let i = 0, l = this.children.length; i < l; i++) {\n      const child = this.children[i];\n      const object = child.getObjectByProperty(name, value);\n      if (object !== undefined) {\n        return object;\n      }\n    }\n    return undefined;\n  }\n  getObjectsByProperty(name, value, result = []) {\n    if (this[name] === value) result.push(this);\n    const children = this.children;\n    for (let i = 0, l = children.length; i < l; i++) {\n      children[i].getObjectsByProperty(name, value, result);\n    }\n    return result;\n  }\n  getWorldPosition(target) {\n    this.updateWorldMatrix(true, false);\n    return target.setFromMatrixPosition(this.matrixWorld);\n  }\n  getWorldQuaternion(target) {\n    this.updateWorldMatrix(true, false);\n    this.matrixWorld.decompose(_position, target, _scale);\n    return target;\n  }\n  getWorldScale(target) {\n    this.updateWorldMatrix(true, false);\n    this.matrixWorld.decompose(_position, _quaternion, target);\n    return target;\n  }\n  getWorldDirection(target) {\n    this.updateWorldMatrix(true, false);\n    const e = this.matrixWorld.elements;\n    return target.set(e[8], e[9], e[10]).normalize();\n  }\n  raycast(/* raycaster, intersects */) {}\n  traverse(callback) {\n    callback(this);\n    const children = this.children;\n    for (let i = 0, l = children.length; i < l; i++) {\n      children[i].traverse(callback);\n    }\n  }\n  traverseVisible(callback) {\n    if (this.visible === false) return;\n    callback(this);\n    const children = this.children;\n    for (let i = 0, l = children.length; i < l; i++) {\n      children[i].traverseVisible(callback);\n    }\n  }\n  traverseAncestors(callback) {\n    const parent = this.parent;\n    if (parent !== null) {\n      callback(parent);\n      parent.traverseAncestors(callback);\n    }\n  }\n  updateMatrix() {\n    this.matrix.compose(this.position, this.quaternion, this.scale);\n    this.matrixWorldNeedsUpdate = true;\n  }\n  updateMatrixWorld(force) {\n    if (this.matrixAutoUpdate) this.updateMatrix();\n    if (this.matrixWorldNeedsUpdate || force) {\n      if (this.matrixWorldAutoUpdate === true) {\n        if (this.parent === null) {\n          this.matrixWorld.copy(this.matrix);\n        } else {\n          this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);\n        }\n      }\n      this.matrixWorldNeedsUpdate = false;\n      force = true;\n    }\n\n    // make sure descendants are updated if required\n\n    const children = this.children;\n    for (let i = 0, l = children.length; i < l; i++) {\n      const child = children[i];\n      child.updateMatrixWorld(force);\n    }\n  }\n  updateWorldMatrix(updateParents, updateChildren) {\n    const parent = this.parent;\n    if (updateParents === true && parent !== null) {\n      parent.updateWorldMatrix(true, false);\n    }\n    if (this.matrixAutoUpdate) this.updateMatrix();\n    if (this.matrixWorldAutoUpdate === true) {\n      if (this.parent === null) {\n        this.matrixWorld.copy(this.matrix);\n      } else {\n        this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);\n      }\n    }\n\n    // make sure descendants are updated\n\n    if (updateChildren === true) {\n      const children = this.children;\n      for (let i = 0, l = children.length; i < l; i++) {\n        const child = children[i];\n        child.updateWorldMatrix(false, true);\n      }\n    }\n  }\n  toJSON(meta) {\n    // meta is a string when called from JSON.stringify\n    const isRootObject = meta === undefined || typeof meta === 'string';\n    const output = {};\n\n    // meta is a hash used to collect geometries, materials.\n    // not providing it implies that this is the root object\n    // being serialized.\n    if (isRootObject) {\n      // initialize meta obj\n      meta = {\n        geometries: {},\n        materials: {},\n        textures: {},\n        images: {},\n        shapes: {},\n        skeletons: {},\n        animations: {},\n        nodes: {}\n      };\n      output.metadata = {\n        version: 4.6,\n        type: 'Object',\n        generator: 'Object3D.toJSON'\n      };\n    }\n\n    // standard Object3D serialization\n\n    const object = {};\n    object.uuid = this.uuid;\n    object.type = this.type;\n    if (this.name !== '') object.name = this.name;\n    if (this.castShadow === true) object.castShadow = true;\n    if (this.receiveShadow === true) object.receiveShadow = true;\n    if (this.visible === false) object.visible = false;\n    if (this.frustumCulled === false) object.frustumCulled = false;\n    if (this.renderOrder !== 0) object.renderOrder = this.renderOrder;\n    if (Object.keys(this.userData).length > 0) object.userData = this.userData;\n    object.layers = this.layers.mask;\n    object.matrix = this.matrix.toArray();\n    object.up = this.up.toArray();\n    if (this.matrixAutoUpdate === false) object.matrixAutoUpdate = false;\n\n    // object specific properties\n\n    if (this.isInstancedMesh) {\n      object.type = 'InstancedMesh';\n      object.count = this.count;\n      object.instanceMatrix = this.instanceMatrix.toJSON();\n      if (this.instanceColor !== null) object.instanceColor = this.instanceColor.toJSON();\n    }\n    if (this.isBatchedMesh) {\n      object.type = 'BatchedMesh';\n      object.perObjectFrustumCulled = this.perObjectFrustumCulled;\n      object.sortObjects = this.sortObjects;\n      object.drawRanges = this._drawRanges;\n      object.reservedRanges = this._reservedRanges;\n      object.visibility = this._visibility;\n      object.active = this._active;\n      object.bounds = this._bounds.map(bound => ({\n        boxInitialized: bound.boxInitialized,\n        boxMin: bound.box.min.toArray(),\n        boxMax: bound.box.max.toArray(),\n        sphereInitialized: bound.sphereInitialized,\n        sphereRadius: bound.sphere.radius,\n        sphereCenter: bound.sphere.center.toArray()\n      }));\n      object.maxInstanceCount = this._maxInstanceCount;\n      object.maxVertexCount = this._maxVertexCount;\n      object.maxIndexCount = this._maxIndexCount;\n      object.geometryInitialized = this._geometryInitialized;\n      object.geometryCount = this._geometryCount;\n      object.matricesTexture = this._matricesTexture.toJSON(meta);\n      if (this._colorsTexture !== null) object.colorsTexture = this._colorsTexture.toJSON(meta);\n      if (this.boundingSphere !== null) {\n        object.boundingSphere = {\n          center: object.boundingSphere.center.toArray(),\n          radius: object.boundingSphere.radius\n        };\n      }\n      if (this.boundingBox !== null) {\n        object.boundingBox = {\n          min: object.boundingBox.min.toArray(),\n          max: object.boundingBox.max.toArray()\n        };\n      }\n    }\n\n    //\n\n    function serialize(library, element) {\n      if (library[element.uuid] === undefined) {\n        library[element.uuid] = element.toJSON(meta);\n      }\n      return element.uuid;\n    }\n    if (this.isScene) {\n      if (this.background) {\n        if (this.background.isColor) {\n          object.background = this.background.toJSON();\n        } else if (this.background.isTexture) {\n          object.background = this.background.toJSON(meta).uuid;\n        }\n      }\n      if (this.environment && this.environment.isTexture && this.environment.isRenderTargetTexture !== true) {\n        object.environment = this.environment.toJSON(meta).uuid;\n      }\n    } else if (this.isMesh || this.isLine || this.isPoints) {\n      object.geometry = serialize(meta.geometries, this.geometry);\n      const parameters = this.geometry.parameters;\n      if (parameters !== undefined && parameters.shapes !== undefined) {\n        const shapes = parameters.shapes;\n        if (Array.isArray(shapes)) {\n          for (let i = 0, l = shapes.length; i < l; i++) {\n            const shape = shapes[i];\n            serialize(meta.shapes, shape);\n          }\n        } else {\n          serialize(meta.shapes, shapes);\n        }\n      }\n    }\n    if (this.isSkinnedMesh) {\n      object.bindMode = this.bindMode;\n      object.bindMatrix = this.bindMatrix.toArray();\n      if (this.skeleton !== undefined) {\n        serialize(meta.skeletons, this.skeleton);\n        object.skeleton = this.skeleton.uuid;\n      }\n    }\n    if (this.material !== undefined) {\n      if (Array.isArray(this.material)) {\n        const uuids = [];\n        for (let i = 0, l = this.material.length; i < l; i++) {\n          uuids.push(serialize(meta.materials, this.material[i]));\n        }\n        object.material = uuids;\n      } else {\n        object.material = serialize(meta.materials, this.material);\n      }\n    }\n\n    //\n\n    if (this.children.length > 0) {\n      object.children = [];\n      for (let i = 0; i < this.children.length; i++) {\n        object.children.push(this.children[i].toJSON(meta).object);\n      }\n    }\n\n    //\n\n    if (this.animations.length > 0) {\n      object.animations = [];\n      for (let i = 0; i < this.animations.length; i++) {\n        const animation = this.animations[i];\n        object.animations.push(serialize(meta.animations, animation));\n      }\n    }\n    if (isRootObject) {\n      const geometries = extractFromCache(meta.geometries);\n      const materials = extractFromCache(meta.materials);\n      const textures = extractFromCache(meta.textures);\n      const images = extractFromCache(meta.images);\n      const shapes = extractFromCache(meta.shapes);\n      const skeletons = extractFromCache(meta.skeletons);\n      const animations = extractFromCache(meta.animations);\n      const nodes = extractFromCache(meta.nodes);\n      if (geometries.length > 0) output.geometries = geometries;\n      if (materials.length > 0) output.materials = materials;\n      if (textures.length > 0) output.textures = textures;\n      if (images.length > 0) output.images = images;\n      if (shapes.length > 0) output.shapes = shapes;\n      if (skeletons.length > 0) output.skeletons = skeletons;\n      if (animations.length > 0) output.animations = animations;\n      if (nodes.length > 0) output.nodes = nodes;\n    }\n    output.object = object;\n    return output;\n\n    // extract data from the cache hash\n    // remove metadata on each item\n    // and return as array\n    function extractFromCache(cache) {\n      const values = [];\n      for (const key in cache) {\n        const data = cache[key];\n        delete data.metadata;\n        values.push(data);\n      }\n      return values;\n    }\n  }\n  clone(recursive) {\n    return new this.constructor().copy(this, recursive);\n  }\n  copy(source, recursive = true) {\n    this.name = source.name;\n    this.up.copy(source.up);\n    this.position.copy(source.position);\n    this.rotation.order = source.rotation.order;\n    this.quaternion.copy(source.quaternion);\n    this.scale.copy(source.scale);\n    this.matrix.copy(source.matrix);\n    this.matrixWorld.copy(source.matrixWorld);\n    this.matrixAutoUpdate = source.matrixAutoUpdate;\n    this.matrixWorldAutoUpdate = source.matrixWorldAutoUpdate;\n    this.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n    this.layers.mask = source.layers.mask;\n    this.visible = source.visible;\n    this.castShadow = source.castShadow;\n    this.receiveShadow = source.receiveShadow;\n    this.frustumCulled = source.frustumCulled;\n    this.renderOrder = source.renderOrder;\n    this.animations = source.animations.slice();\n    this.userData = JSON.parse(JSON.stringify(source.userData));\n    if (recursive === true) {\n      for (let i = 0; i < source.children.length; i++) {\n        const child = source.children[i];\n        this.add(child.clone());\n      }\n    }\n    return this;\n  }\n}\nObject3D.DEFAULT_UP = /*@__PURE__*/new Vector3(0, 1, 0);\nObject3D.DEFAULT_MATRIX_AUTO_UPDATE = true;\nObject3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE = true;\nexport { Object3D };","map":{"version":3,"names":["Quaternion","Vector3","Matrix4","EventDispatcher","Euler","Layers","Matrix3","MathUtils","_object3DId","_v1","_q1","_m1","_target","_position","_scale","_quaternion","_xAxis","_yAxis","_zAxis","_addedEvent","type","_removedEvent","_childaddedEvent","child","_childremovedEvent","Object3D","constructor","isObject3D","Object","defineProperty","value","uuid","generateUUID","name","parent","children","up","DEFAULT_UP","clone","position","rotation","quaternion","scale","onRotationChange","setFromEuler","onQuaternionChange","setFromQuaternion","undefined","_onChange","defineProperties","configurable","enumerable","modelViewMatrix","normalMatrix","matrix","matrixWorld","matrixAutoUpdate","DEFAULT_MATRIX_AUTO_UPDATE","matrixWorldAutoUpdate","DEFAULT_MATRIX_WORLD_AUTO_UPDATE","matrixWorldNeedsUpdate","layers","visible","castShadow","receiveShadow","frustumCulled","renderOrder","animations","userData","onBeforeShadow","onAfterShadow","onBeforeRender","onAfterRender","applyMatrix4","updateMatrix","premultiply","decompose","applyQuaternion","q","setRotationFromAxisAngle","axis","angle","setFromAxisAngle","setRotationFromEuler","euler","setRotationFromMatrix","m","setFromRotationMatrix","setRotationFromQuaternion","copy","rotateOnAxis","multiply","rotateOnWorldAxis","rotateX","rotateY","rotateZ","translateOnAxis","distance","add","multiplyScalar","translateX","translateY","translateZ","localToWorld","vector","updateWorldMatrix","worldToLocal","invert","lookAt","x","y","z","isVector3","set","setFromMatrixPosition","isCamera","isLight","extractRotation","object","arguments","length","i","console","error","removeFromParent","push","dispatchEvent","remove","index","indexOf","splice","clear","attach","getObjectById","id","getObjectByProperty","getObjectByName","l","getObjectsByProperty","result","getWorldPosition","target","getWorldQuaternion","getWorldScale","getWorldDirection","e","elements","normalize","raycast","traverse","callback","traverseVisible","traverseAncestors","compose","updateMatrixWorld","force","multiplyMatrices","updateParents","updateChildren","toJSON","meta","isRootObject","output","geometries","materials","textures","images","shapes","skeletons","nodes","metadata","version","generator","keys","mask","toArray","isInstancedMesh","count","instanceMatrix","instanceColor","isBatchedMesh","perObjectFrustumCulled","sortObjects","drawRanges","_drawRanges","reservedRanges","_reservedRanges","visibility","_visibility","active","_active","bounds","_bounds","map","bound","boxInitialized","boxMin","box","min","boxMax","max","sphereInitialized","sphereRadius","sphere","radius","sphereCenter","center","maxInstanceCount","_maxInstanceCount","maxVertexCount","_maxVertexCount","maxIndexCount","_maxIndexCount","geometryInitialized","_geometryInitialized","geometryCount","_geometryCount","matricesTexture","_matricesTexture","_colorsTexture","colorsTexture","boundingSphere","boundingBox","serialize","library","element","isScene","background","isColor","isTexture","environment","isRenderTargetTexture","isMesh","isLine","isPoints","geometry","parameters","Array","isArray","shape","isSkinnedMesh","bindMode","bindMatrix","skeleton","material","uuids","animation","extractFromCache","cache","values","key","data","recursive","source","order","slice","JSON","parse","stringify"],"sources":["C:/Users/21064/Desktop/frontend/node_modules/three/src/core/Object3D.js"],"sourcesContent":["import { Quaternion } from '../math/Quaternion.js';\nimport { Vector3 } from '../math/Vector3.js';\nimport { Matrix4 } from '../math/Matrix4.js';\nimport { EventDispatcher } from './EventDispatcher.js';\nimport { Euler } from '../math/Euler.js';\nimport { Layers } from './Layers.js';\nimport { Matrix3 } from '../math/Matrix3.js';\nimport * as MathUtils from '../math/MathUtils.js';\n\nlet _object3DId = 0;\n\nconst _v1 = /*@__PURE__*/ new Vector3();\nconst _q1 = /*@__PURE__*/ new Quaternion();\nconst _m1 = /*@__PURE__*/ new Matrix4();\nconst _target = /*@__PURE__*/ new Vector3();\n\nconst _position = /*@__PURE__*/ new Vector3();\nconst _scale = /*@__PURE__*/ new Vector3();\nconst _quaternion = /*@__PURE__*/ new Quaternion();\n\nconst _xAxis = /*@__PURE__*/ new Vector3( 1, 0, 0 );\nconst _yAxis = /*@__PURE__*/ new Vector3( 0, 1, 0 );\nconst _zAxis = /*@__PURE__*/ new Vector3( 0, 0, 1 );\n\nconst _addedEvent = { type: 'added' };\nconst _removedEvent = { type: 'removed' };\n\nconst _childaddedEvent = { type: 'childadded', child: null };\nconst _childremovedEvent = { type: 'childremoved', child: null };\n\nclass Object3D extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.isObject3D = true;\n\n\t\tObject.defineProperty( this, 'id', { value: _object3DId ++ } );\n\n\t\tthis.uuid = MathUtils.generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'Object3D';\n\n\t\tthis.parent = null;\n\t\tthis.children = [];\n\n\t\tthis.up = Object3D.DEFAULT_UP.clone();\n\n\t\tconst position = new Vector3();\n\t\tconst rotation = new Euler();\n\t\tconst quaternion = new Quaternion();\n\t\tconst scale = new Vector3( 1, 1, 1 );\n\n\t\tfunction onRotationChange() {\n\n\t\t\tquaternion.setFromEuler( rotation, false );\n\n\t\t}\n\n\t\tfunction onQuaternionChange() {\n\n\t\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t\t}\n\n\t\trotation._onChange( onRotationChange );\n\t\tquaternion._onChange( onQuaternionChange );\n\n\t\tObject.defineProperties( this, {\n\t\t\tposition: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: position\n\t\t\t},\n\t\t\trotation: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: rotation\n\t\t\t},\n\t\t\tquaternion: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: quaternion\n\t\t\t},\n\t\t\tscale: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: scale\n\t\t\t},\n\t\t\tmodelViewMatrix: {\n\t\t\t\tvalue: new Matrix4()\n\t\t\t},\n\t\t\tnormalMatrix: {\n\t\t\t\tvalue: new Matrix3()\n\t\t\t}\n\t\t} );\n\n\t\tthis.matrix = new Matrix4();\n\t\tthis.matrixWorld = new Matrix4();\n\n\t\tthis.matrixAutoUpdate = Object3D.DEFAULT_MATRIX_AUTO_UPDATE;\n\n\t\tthis.matrixWorldAutoUpdate = Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE; // checked by the renderer\n\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\tthis.layers = new Layers();\n\t\tthis.visible = true;\n\n\t\tthis.castShadow = false;\n\t\tthis.receiveShadow = false;\n\n\t\tthis.frustumCulled = true;\n\t\tthis.renderOrder = 0;\n\n\t\tthis.animations = [];\n\n\t\tthis.userData = {};\n\n\t}\n\n\tonBeforeShadow( /* renderer, object, camera, shadowCamera, geometry, depthMaterial, group */ ) {}\n\n\tonAfterShadow( /* renderer, object, camera, shadowCamera, geometry, depthMaterial, group */ ) {}\n\n\tonBeforeRender( /* renderer, scene, camera, geometry, material, group */ ) {}\n\n\tonAfterRender( /* renderer, scene, camera, geometry, material, group */ ) {}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tthis.matrix.premultiply( matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t}\n\n\tsetRotationFromAxisAngle( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t}\n\n\tsetRotationFromEuler( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t}\n\n\tsetRotationFromMatrix( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t}\n\n\tsetRotationFromQuaternion( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t}\n\n\trotateOnAxis( axis, angle ) {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.multiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateOnWorldAxis( axis, angle ) {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.premultiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateX( angle ) {\n\n\t\treturn this.rotateOnAxis( _xAxis, angle );\n\n\t}\n\n\trotateY( angle ) {\n\n\t\treturn this.rotateOnAxis( _yAxis, angle );\n\n\t}\n\n\trotateZ( angle ) {\n\n\t\treturn this.rotateOnAxis( _zAxis, angle );\n\n\t}\n\n\ttranslateOnAxis( axis, distance ) {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_v1.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\tthis.position.add( _v1.multiplyScalar( distance ) );\n\n\t\treturn this;\n\n\t}\n\n\ttranslateX( distance ) {\n\n\t\treturn this.translateOnAxis( _xAxis, distance );\n\n\t}\n\n\ttranslateY( distance ) {\n\n\t\treturn this.translateOnAxis( _yAxis, distance );\n\n\t}\n\n\ttranslateZ( distance ) {\n\n\t\treturn this.translateOnAxis( _zAxis, distance );\n\n\t}\n\n\tlocalToWorld( vector ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t}\n\n\tworldToLocal( vector ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\treturn vector.applyMatrix4( _m1.copy( this.matrixWorld ).invert() );\n\n\t}\n\n\tlookAt( x, y, z ) {\n\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\t_target.copy( x );\n\n\t\t} else {\n\n\t\t\t_target.set( x, y, z );\n\n\t\t}\n\n\t\tconst parent = this.parent;\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_position.setFromMatrixPosition( this.matrixWorld );\n\n\t\tif ( this.isCamera || this.isLight ) {\n\n\t\t\t_m1.lookAt( _position, _target, this.up );\n\n\t\t} else {\n\n\t\t\t_m1.lookAt( _target, _position, this.up );\n\n\t\t}\n\n\t\tthis.quaternion.setFromRotationMatrix( _m1 );\n\n\t\tif ( parent ) {\n\n\t\t\t_m1.extractRotation( parent.matrixWorld );\n\t\t\t_q1.setFromRotationMatrix( _m1 );\n\t\t\tthis.quaternion.premultiply( _q1.invert() );\n\n\t\t}\n\n\t}\n\n\tadd( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object can\\'t be added as a child of itself.', object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object && object.isObject3D ) {\n\n\t\t\tobject.removeFromParent();\n\t\t\tobject.parent = this;\n\t\t\tthis.children.push( object );\n\n\t\t\tobject.dispatchEvent( _addedEvent );\n\n\t\t\t_childaddedEvent.child = object;\n\t\t\tthis.dispatchEvent( _childaddedEvent );\n\t\t\t_childaddedEvent.child = null;\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object not an instance of THREE.Object3D.', object );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tremove( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t\t_childremovedEvent.child = object;\n\t\t\tthis.dispatchEvent( _childremovedEvent );\n\t\t\t_childremovedEvent.child = null;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tremoveFromParent() {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tparent.remove( this );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclear() {\n\n\t\treturn this.remove( ... this.children );\n\n\t}\n\n\tattach( object ) {\n\n\t\t// adds object as a child of this, while maintaining the object's world transform\n\n\t\t// Note: This method does not support scene graphs having non-uniformly-scaled nodes(s)\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_m1.copy( this.matrixWorld ).invert();\n\n\t\tif ( object.parent !== null ) {\n\n\t\t\tobject.parent.updateWorldMatrix( true, false );\n\n\t\t\t_m1.multiply( object.parent.matrixWorld );\n\n\t\t}\n\n\t\tobject.applyMatrix4( _m1 );\n\n\t\tobject.removeFromParent();\n\t\tobject.parent = this;\n\t\tthis.children.push( object );\n\n\t\tobject.updateWorldMatrix( false, true );\n\n\t\tobject.dispatchEvent( _addedEvent );\n\n\t\t_childaddedEvent.child = object;\n\t\tthis.dispatchEvent( _childaddedEvent );\n\t\t_childaddedEvent.child = null;\n\n\t\treturn this;\n\n\t}\n\n\tgetObjectById( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t}\n\n\tgetObjectByName( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t}\n\n\tgetObjectByProperty( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( let i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tconst child = this.children[ i ];\n\t\t\tconst object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n\tgetObjectsByProperty( name, value, result = [] ) {\n\n\t\tif ( this[ name ] === value ) result.push( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].getObjectsByProperty( name, value, result );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tgetWorldPosition( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t}\n\n\tgetWorldQuaternion( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position, target, _scale );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldScale( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position, _quaternion, target );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldDirection( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\n\n\t}\n\n\traycast( /* raycaster, intersects */ ) {}\n\n\ttraverse( callback ) {\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseVisible( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseAncestors( callback ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t}\n\n\tupdateMatrix() {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.matrixWorldAutoUpdate === true ) {\n\n\t\t\t\tif ( this.parent === null ) {\n\n\t\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// make sure descendants are updated if required\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tconst child = children[ i ];\n\n\t\t\tchild.updateMatrixWorld( force );\n\n\t\t}\n\n\t}\n\n\tupdateWorldMatrix( updateParents, updateChildren ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( updateParents === true && parent !== null ) {\n\n\t\t\tparent.updateWorldMatrix( true, false );\n\n\t\t}\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldAutoUpdate === true ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// make sure descendants are updated\n\n\t\tif ( updateChildren === true ) {\n\n\t\t\tconst children = this.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tconst child = children[ i ];\n\n\t\t\t\tchild.updateWorldMatrix( false, true );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tconst output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {},\n\t\t\t\tskeletons: {},\n\t\t\t\tanimations: {},\n\t\t\t\tnodes: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.6,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tconst object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\n\t\tif ( Object.keys( this.userData ).length > 0 ) object.userData = this.userData;\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\t\tobject.up = this.up.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\n\n\t\t// object specific properties\n\n\t\tif ( this.isInstancedMesh ) {\n\n\t\t\tobject.type = 'InstancedMesh';\n\t\t\tobject.count = this.count;\n\t\t\tobject.instanceMatrix = this.instanceMatrix.toJSON();\n\t\t\tif ( this.instanceColor !== null ) object.instanceColor = this.instanceColor.toJSON();\n\n\t\t}\n\n\t\tif ( this.isBatchedMesh ) {\n\n\t\t\tobject.type = 'BatchedMesh';\n\t\t\tobject.perObjectFrustumCulled = this.perObjectFrustumCulled;\n\t\t\tobject.sortObjects = this.sortObjects;\n\n\t\t\tobject.drawRanges = this._drawRanges;\n\t\t\tobject.reservedRanges = this._reservedRanges;\n\n\t\t\tobject.visibility = this._visibility;\n\t\t\tobject.active = this._active;\n\t\t\tobject.bounds = this._bounds.map( bound => ( {\n\t\t\t\tboxInitialized: bound.boxInitialized,\n\t\t\t\tboxMin: bound.box.min.toArray(),\n\t\t\t\tboxMax: bound.box.max.toArray(),\n\n\t\t\t\tsphereInitialized: bound.sphereInitialized,\n\t\t\t\tsphereRadius: bound.sphere.radius,\n\t\t\t\tsphereCenter: bound.sphere.center.toArray()\n\t\t\t} ) );\n\n\t\t\tobject.maxInstanceCount = this._maxInstanceCount;\n\t\t\tobject.maxVertexCount = this._maxVertexCount;\n\t\t\tobject.maxIndexCount = this._maxIndexCount;\n\n\t\t\tobject.geometryInitialized = this._geometryInitialized;\n\t\t\tobject.geometryCount = this._geometryCount;\n\n\t\t\tobject.matricesTexture = this._matricesTexture.toJSON( meta );\n\n\t\t\tif ( this._colorsTexture !== null ) object.colorsTexture = this._colorsTexture.toJSON( meta );\n\n\t\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\t\tobject.boundingSphere = {\n\t\t\t\t\tcenter: object.boundingSphere.center.toArray(),\n\t\t\t\t\tradius: object.boundingSphere.radius\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tif ( this.boundingBox !== null ) {\n\n\t\t\t\tobject.boundingBox = {\n\t\t\t\t\tmin: object.boundingBox.min.toArray(),\n\t\t\t\t\tmax: object.boundingBox.max.toArray()\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.isScene ) {\n\n\t\t\tif ( this.background ) {\n\n\t\t\t\tif ( this.background.isColor ) {\n\n\t\t\t\t\tobject.background = this.background.toJSON();\n\n\t\t\t\t} else if ( this.background.isTexture ) {\n\n\t\t\t\t\tobject.background = this.background.toJSON( meta ).uuid;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( this.environment && this.environment.isTexture && this.environment.isRenderTargetTexture !== true ) {\n\n\t\t\t\tobject.environment = this.environment.toJSON( meta ).uuid;\n\n\t\t\t}\n\n\t\t} else if ( this.isMesh || this.isLine || this.isPoints ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tconst parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tconst shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tconst shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.isSkinnedMesh ) {\n\n\t\t\tobject.bindMode = this.bindMode;\n\t\t\tobject.bindMatrix = this.bindMatrix.toArray();\n\n\t\t\tif ( this.skeleton !== undefined ) {\n\n\t\t\t\tserialize( meta.skeletons, this.skeleton );\n\n\t\t\t\tobject.skeleton = this.skeleton.uuid;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tconst uuids = [];\n\n\t\t\t\tfor ( let i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.animations.length > 0 ) {\n\n\t\t\tobject.animations = [];\n\n\t\t\tfor ( let i = 0; i < this.animations.length; i ++ ) {\n\n\t\t\t\tconst animation = this.animations[ i ];\n\n\t\t\t\tobject.animations.push( serialize( meta.animations, animation ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tconst geometries = extractFromCache( meta.geometries );\n\t\t\tconst materials = extractFromCache( meta.materials );\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\t\t\tconst shapes = extractFromCache( meta.shapes );\n\t\t\tconst skeletons = extractFromCache( meta.skeletons );\n\t\t\tconst animations = extractFromCache( meta.animations );\n\t\t\tconst nodes = extractFromCache( meta.nodes );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\n\t\t\tif ( skeletons.length > 0 ) output.skeletons = skeletons;\n\t\t\tif ( animations.length > 0 ) output.animations = animations;\n\t\t\tif ( nodes.length > 0 ) output.nodes = nodes;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t}\n\n\tclone( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t}\n\n\tcopy( source, recursive = true ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.rotation.order = source.rotation.order;\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\tthis.matrixWorldAutoUpdate = source.matrixWorldAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.animations = source.animations.slice();\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( let i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tconst child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nObject3D.DEFAULT_UP = /*@__PURE__*/ new Vector3( 0, 1, 0 );\nObject3D.DEFAULT_MATRIX_AUTO_UPDATE = true;\nObject3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE = true;\n\nexport { Object3D };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}